webpackJsonp([3],{"4dmp":function(t,e){},G3TW:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("8Q2T"),n=s("FN8c"),a=s("oAV5"),r={name:"highlight",data:function(){return{styleObject:{"border-left":"2px solid green"}}},props:{language:{type:String},code:{required:!0,type:String},borderColor:{type:String,default:"green"}},watch:{borderColor:function(t,e){this.styleObject["border-left"]="2.5px solid "+t}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{directives:[{name:"highlight",rawName:"v-highlight",value:this.code,expression:"code"}]},[e("code",{class:this.language,style:this.styleObject})])},staticRenderFns:[]};var l={name:"submissionDetails",components:{Highlight:s("VU/8")(r,o,!1,function(t){s("gfPb")},"data-v-1fb5e533",null).exports},data:function(){var t=this;return{dataRank:[],rankLimit:15,columns:[{title:this.$i18n.t("m.ID"),align:"center",type:"index"},{title:this.$i18n.t("m.Status"),align:"center",render:function(e,s){return e("Tag",{props:{color:n.e[s.row.result].type}},t.$i18n.t("m."+n.e[s.row.result].name.replace(/ /g,"_")))}},{title:this.$i18n.t("m.Memory"),align:"center",render:function(t,e){return t("span",a.a.submissionMemoryFormat(e.row.memory))}},{title:this.$i18n.t("m.Time"),align:"center",render:function(t,e){return t("span",a.a.submissionTimeFormat(e.row.cpu_time))}}],submission:{result:"0",code:"",info:{data:[]},statistic_info:{time_cost:"",memory_cost:""}},isConcat:!1,loading:!1}},mounted:function(){this.getSubmission(),this.getRankData()},methods:{getSubmission:function(){var t=this;this.loading=!0,i.a.getSubmission(this.$route.params.id).then(function(e){t.loading=!1;var s=e.data.data;if(s.info&&s.info.data&&!t.isConcat){if(void 0!==s.info.data[0].score){t.isConcat=!0;var i={title:t.$i18n.t("m.Score"),align:"center",key:"score"};t.columns.push(i),t.loadingTable=!1}if(t.isAdminRole){t.isConcat=!0;var n=[{title:t.$i18n.t("m.Real_Time"),align:"center",render:function(t,e){return t("span",a.a.submissionTimeFormat(e.row.real_time))}},{title:t.$i18n.t("m.Signal"),align:"center",key:"signal"}];t.columns=t.columns.concat(n)}}t.submission=s,t.submission.problem=t.$route.query.problem,t.submission.contest=t.$route.query.contest},function(){t.loading=!1})},getRankData:function(){var t=this;i.a.getUserRank(0,this.rankLimit,n.g.ACM).then(function(e){for(var s in t.dataRank=e.data.data.results,t.dataRank)t.dataRank[s].color=n.i[t.dataRank[s].grade].color,t.dataRank[s].title=n.i[t.dataRank[s].grade].name}).catch(function(){})},shareSubmission:function(t){var e=this,s={id:this.submission.id,shared:t};i.a.updateSubmission(s).then(function(s){e.getSubmission(),t?e.$success("Người khác có thể xem lời giải của bạn!"):e.$success("Người khác không thể xem lời giải của bạn!")},function(){})}},computed:{status:function(){return console.log(n.e[this.submission.result]),{type:n.e[this.submission.result].type,statusName:n.e[this.submission.result].name,color:n.e[this.submission.result].color}},isCE:function(){return-2===this.submission.result},isAdminRole:function(){return this.$store.getters.isAdminRole}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",{attrs:{type:"flex",gutter:20}},[s("Col",{attrs:{span:19,id:"status"}},["primary"!==t.status.type?s("Alert",{attrs:{type:t.status.type,"show-icon":""}},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("m."+t.status.statusName.replace(/ /g,"_"))))]),t._v(" "),s("div",{staticClass:"content",attrs:{slot:"desc"},slot:"desc"},[[t.isCE?s("pre",[t._v(t._s(t.submission.statistic_info.err_info))]):t._e(),t._v(" "),t.submission.problem&&t.submission.contest?s("span",[t._v(t._s(t.$t("m.Problem"))+": "),s("a",{staticStyle:{color:"#495060"},attrs:{href:"/contest/"+t.submission.contest+"/problem/"+t.submission.problem}},[t._v(t._s(t.submission.problem))])]):t.submission.problem?s("span",[t._v(t._s(t.$t("m.Problem"))+": "),s("a",{staticStyle:{color:"#495060"},attrs:{href:/problem/+t.submission.problem}},[t._v(t._s(t.submission.problem))])]):t._e(),t._v(" "),s("span",[t._v(t._s(t.$t("m.Time"))+": "+t._s(t._f("submissionTime")(t.submission.statistic_info.time_cost)))]),t._v(" "),s("span",[t._v(t._s(t.$t("m.Memory"))+": "+t._s(t._f("submissionMemory")(t.submission.statistic_info.memory_cost)))]),t._v(" "),s("span",[t._v(t._s(t.$t("m.Lang"))+": "+t._s(t.submission.language))]),t._v(" "),s("span",[t._v(t._s(t.$t("m.Author"))+": "),s("a",{staticStyle:{color:"#495060"},attrs:{href:"/user-home?username="+t.submission.username}},[t._v(t._s(t.submission.username))])])]],2)]):s("Alert",{attrs:{"show-icon":""}},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("m."+t.status.statusName.replace(/ /g,"_"))))]),t._v(" "),s("div",{staticClass:"content",attrs:{slot:"desc"},slot:"desc"},[[t.isCE?s("pre",[t._v(t._s(t.submission.statistic_info.err_info))]):t._e(),t._v(" "),t.submission.problem&&t.submission.contest?s("span",[t._v(t._s(t.$t("m.Problem"))+": "),s("a",{staticStyle:{color:"#495060"},attrs:{href:"/contest/"+t.submission.contest+"/problem/"+t.submission.problem}},[t._v(t._s(t.submission.problem))])]):t.submission.problem?s("span",[t._v(t._s(t.$t("m.Problem"))+": "),s("a",{staticStyle:{color:"#495060"},attrs:{href:/problem/+t.submission.problem}},[t._v(t._s(t.submission.problem))])]):t._e(),t._v(" "),s("span",[t._v(t._s(t.$t("m.Time"))+": "+t._s(t._f("submissionTime")(t.submission.statistic_info.time_cost)))]),t._v(" "),s("span",[t._v(t._s(t.$t("m.Memory"))+": "+t._s(t._f("submissionMemory")(t.submission.statistic_info.memory_cost)))]),t._v(" "),s("span",[t._v(t._s(t.$t("m.Lang"))+": "+t._s(t.submission.language))]),t._v(" "),s("span",[t._v(t._s(t.$t("m.Author"))+": "),s("a",{staticStyle:{color:"#495060"},attrs:{href:"/user-home?username="+t.submission.username}},[t._v(t._s(t.submission.username))])])]],2)]),t._v(" "),t.submission.info&&!t.isCE?s("Table",{attrs:{span:15,stripe:"",loading:t.loading,"disabled-hover":!0,columns:t.columns,data:t.submission.info.data}}):t._e(),t._v(" "),s("Highlight",{attrs:{code:t.submission.code,language:t.submission.language,"border-color":t.status.color}}),t._v(" "),t.submission.can_unshare?s("div",{attrs:{span:15,id:"share-btn"}},[t.submission.shared?s("Button",{attrs:{type:"warning",size:"large"},on:{click:function(e){return t.shareSubmission(!1)}}},[t._v("\n        "+t._s(t.$t("m.UnShare"))+"\n      ")]):s("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.shareSubmission(!0)}}},[t._v("\n        "+t._s(t.$t("m.Share"))+"\n      ")])],1):t._e()],1),t._v(" "),s("Col",{attrs:{span:5,gutter:20}},[s("Panel",{staticStyle:{"padding-top":"0px","padding-bottom":"10px","min-height":"400px"},attrs:{shadow:""}},[s("div",{staticStyle:{"margin-left":"-10px","margin-bottom":"-10px"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("m.Ranklist_Title")))]),t._v(" "),s("ol",{staticStyle:{"margin-left":"40px","margin-bottom":"20px"}},t._l(t.dataRank,function(e){return s("li",{key:e.id},[s("a",{style:"font-weight: 600;color: "+e.color,attrs:{href:"/user-home?username="+e.user.username,title:e.title+" "+e.user.username}},[t._v("\n          "+t._s(e.user.username)+"\n          ")]),t._v(" - "+t._s(e.accepted_number)+" bài\n        ")])}),0)]),t._v(" "),s("div",{staticClass:"free-course",staticStyle:{"margin-top":"20px"}},[s("div",{staticClass:"title"},[t._v("Khóa học miễn phí")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/series/cau-truc-du-lieu/",title:"Cấu trúc dữ liệu"}},[t._v("Cấu trúc dữ liệu")]),s("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"https://nguyenvanhieu.vn/wp-content/uploads/2020/07/hot-icon.gif"}})]),t._v(" "),s("li",[s("a",{staticClass:"series-508",attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/series/hoc-c-khong-kho/",title:"Học C Không Khó"}},[t._v("Học C Không Khó")]),s("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"https://nguyenvanhieu.vn/wp-content/uploads/2020/07/hot-icon.gif"}})]),t._v(" "),s("li",[s("a",{attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/go/learn-cpp/"}},[t._v("Khóa học lập trình C++")])]),t._v(" "),s("li",[s("a",{attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/bai-tap-c-co-loi-giai/"}},[t._v("Kho bài tập C/C++")]),s("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"https://nguyenvanhieu.vn/wp-content/uploads/2020/07/hot-icon.gif"}})]),t._v(" "),s("li",[s("a",{staticClass:"series-510",attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/series/huong-doi-tuong-cpp/",title:"Hướng đối tượng C++"}},[t._v("Hướng đối tượng C++")]),s("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"https://nguyenvanhieu.vn/wp-content/uploads/2020/07/hot-icon.gif"}})]),t._v(" "),s("li",[s("a",{staticClass:"series-507",attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/series/python-khong-kho/",title:"Python Không Khó"}},[t._v("Python Không Khó")])]),t._v(" "),s("li",[s("a",{staticClass:"series-132",attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/hoc-nhanh-python-trong-30-phut/",title:"Python Quick Tutorial"}},[t._v("Python Quick Tutorial")]),s("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"https://nguyenvanhieu.vn/wp-content/uploads/2020/07/hot-icon.gif"}})]),t._v(" "),s("li",[s("a",{staticClass:"series-358",attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/series/selenium-khong-kho/",title:"Selenium không khó"}},[t._v("Selenium không khó")])]),s("li",[s("a",{staticClass:"series-131",attrs:{href:"https://nguyenvanhieu.vn/series/thu-vien-flask/",title:"Thư viện Flask"}},[t._v("Thư viện Flask")])]),t._v(" "),s("li",[s("a",{staticClass:"series-307",attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/series/thuc-hanh-sql/",title:"Thực hành SQL"}},[t._v("Thực hành SQL")])]),t._v(" "),s("li",[s("a",{staticClass:"series-126",attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/hoc-lap-trinh-java/",title:"Tự học lập trình Java"}},[t._v("Tự học lập trình Java")]),s("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"https://nguyenvanhieu.vn/wp-content/uploads/2020/07/hot-icon.gif"}})]),t._v(" "),s("li",[s("a",{staticClass:"series-127",attrs:{target:"_blank",href:"https://nguyenvanhieu.vn/series/tu-hoc-lap-trinh-javascript/",title:"Tự học lập trình Javascript"}},[t._v("Tự học Javascript")])])])])],1)],1)},staticRenderFns:[]};var m=s("VU/8")(l,u,!1,function(t){s("4dmp")},"data-v-e20e0490",null);e.default=m.exports},Upri:function(t,e){},gfPb:function(t,e){},tEBz:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),n=s.n(i),a=s("BO1k"),r=s.n(a),o=s("woOf"),l=s.n(o),u=s("NYxO"),m=s("8Q2T"),c=s("FN8c"),h=s("oAV5"),p=s("2hfY"),g={name:"submissionList",components:{Pagination:s("26Oo").a},data:function(){var t=this;return{dataRank:[],rankLimit:30,formFilter:{myself:!1,result:"",username:""},columns:[{title:this.$i18n.t("m.When"),align:"center",render:function(t,e){return t("span",p.a.utcToLocal(e.row.create_time))}},{title:this.$i18n.t("m.Author"),align:"center",render:function(t,e){return e.row.title?t("a",{style:{display:"inline-block","margin-left":"5px","font-weight":600,color:e.row.title_color},attrs:{title:e.row.title+" "+e.row.username,href:"/user-home?username="+e.row.username}},e.row.username):t("a",{style:{display:"inline-block","max-width":"150px","margin-left":"5px","font-weight":600,color:c.i[e.row.grade].color},attrs:{title:c.i[e.row.grade].name+" "+e.row.username,href:"/user-home?username="+e.row.username}},e.row.username)}},{title:this.$i18n.t("m.Status"),align:"center",render:function(e,s){return e("Tag",{props:{color:c.e[s.row.result].type}},t.$i18n.t("m."+c.e[s.row.result].name.replace(/ /g,"_")))}},{title:this.$i18n.t("m.Problem"),align:"center",render:function(e,s){return e("a",{style:{color:"#57a3f3",cursor:"pointer"},attrs:{href:t.contestID?"/contest/"+t.contestID+"/problem/"+s.row.problem:"/problem/"+s.row.problem}},s.row.problem)}},{title:this.$i18n.t("m.Time"),align:"center",render:function(t,e){return t("span",h.a.submissionTimeFormat(e.row.statistic_info.time_cost))}},{title:this.$i18n.t("m.Memory"),align:"center",render:function(t,e){return t("span",h.a.submissionMemoryFormat(e.row.statistic_info.memory_cost))}},{title:this.$i18n.t("m.Language"),align:"center",key:"language"},{title:this.$i18n.t("m.ID"),align:"center",render:function(t,e){return e.row.show_link?t("a",{style:{color:"#57a3f3",cursor:"pointer"},attrs:{href:"/status/"+e.row.id+"?problem="+e.row.problem}},e.row.id.slice(0,12)):t("span",e.row.id.slice(0,12))}}],loadingTable:!1,submissions:[],total:30,limit:15,page:1,contestID:"",problemID:"",routeName:"",JUDGE_STATUS:"",rejudge_column:!1}},mounted:function(){this.init(),this.getRankData(),this.JUDGE_STATUS=l()({},c.e),delete this.JUDGE_STATUS[9],delete this.JUDGE_STATUS[2]},methods:{init:function(){this.contestID=this.$route.params.contestID;var t=this.$route.query;this.problemID=t.problemID,this.formFilter.myself="1"===t.myself,this.formFilter.result=t.result||"",this.formFilter.username=t.username||"",this.page=parseInt(t.page)||1,this.page<1&&(this.page=1),this.routeName=this.$route.name,this.getSubmissions()},getRankData:function(){var t=this;m.a.getUserRank(0,this.rankLimit,c.g.ACM).then(function(e){for(var s in t.dataRank=e.data.data.results,t.dataRank)t.dataRank[s].color=c.i[t.dataRank[s].grade].color,t.dataRank[s].title=c.i[t.dataRank[s].grade].name}).catch(function(){})},buildQuery:function(){return{myself:!0===this.formFilter.myself?"1":"0",result:this.formFilter.result,username:this.formFilter.username,page:this.page}},getSubmissions:function(){var t=this,e=this.buildQuery();e.contest_id=this.contestID,e.problem_id=this.problemID;var s=(this.page-1)*this.limit,i=this.contestID?"getContestSubmissionList":"getSubmissionList";this.loadingTable=!0,m.a[i](s,this.limit,e).then(function(e){var s=e.data.data,i=!0,n=!1,a=void 0;try{for(var o,l=r()(s.results);!(i=(o=l.next()).done);i=!0){o.value.loading=!1}}catch(t){n=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw a}}t.adjustRejudgeColumn(),t.loadingTable=!1,t.submissions=s.results,t.total=s.total}).catch(function(){t.loadingTable=!1})},changeRoute:function(){var t=h.a.filterEmptyValue(this.buildQuery());t.contestID=this.contestID,t.problemID=this.problemID;var e=t.contestID?"contest-submission-list":"submission-list";this.$router.push({name:e,query:h.a.filterEmptyValue(t)})},goRoute:function(t){this.$router.push(t)},adjustRejudgeColumn:function(){var t=this;if(this.rejudgeColumnVisible&&!this.rejudge_column){var e={title:this.$i18n.t("m.Option"),fixed:"right",align:"center",width:90,render:function(e,s){return e("Button",{props:{type:"primary",size:"small",loading:s.row.loading},on:{click:function(){t.handleRejudge(s.row.id,s.index)}}},t.$i18n.t("m.Rejudge"))}};this.columns.push(e),this.rejudge_column=!0}},handleResultChange:function(t){this.page=1,this.formFilter.result=t,this.changeRoute()},handleQueryChange:function(){this.page=1,this.changeRoute()},handleRejudge:function(t,e){var s=this;this.submissions[e].loading=!0,m.a.submissionRejudge(t).then(function(t){s.submissions[e].loading=!1,s.$success("Succeeded"),s.getSubmissions()},function(){s.submissions[e].loading=!1})}},computed:n()({},Object(u.mapGetters)(["isAuthenticated","user"]),{title:function(){return this.contestID?this.problemID?this.$i18n.t("m.Problem_Submissions"):this.$i18n.t("m.Submissions"):this.$i18n.t("m.StatusTitle")},status:function(){return""===this.formFilter.result?this.$i18n.t("m.Status"):this.$i18n.t("m."+c.e[this.formFilter.result].name.replace(/ /g,"_"))},rejudgeColumnVisible:function(){return!this.contestID&&this.user.admin_type===c.j.SUPER_ADMIN}}),watch:{$route:function(t,e){t!==e&&this.init()},rejudgeColumnVisible:function(){this.adjustRejudgeColumn()},isAuthenticated:function(){this.init()}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-container"},[s("div",{attrs:{id:"main"}},[s("Panel",{attrs:{shadow:""}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title))]),t._v(" "),s("div",{attrs:{slot:"extra"},slot:"extra"},[s("ul",{staticClass:"filter"},[s("li",[s("Dropdown",{on:{"on-click":t.handleResultChange}},[s("span",[t._v(t._s(t.status)+"\n                "),s("Icon",{attrs:{type:"md-arrow-dropdown"}})],1),t._v(" "),s("Dropdown-menu",{attrs:{slot:"list"},slot:"list"},[s("Dropdown-item",{attrs:{name:""}},[t._v(t._s(t.$t("m.All")))]),t._v(" "),t._l(Object.keys(t.JUDGE_STATUS),function(e){return s("Dropdown-item",{key:e,attrs:{name:e}},[t._v("\n                  "+t._s(t.$t("m."+t.JUDGE_STATUS[e].name.replace(/ /g,"_")))+"\n                ")])})],2)],1)],1),t._v(" "),s("li",[s("i-switch",{attrs:{size:"large"},on:{"on-change":t.handleQueryChange},model:{value:t.formFilter.myself,callback:function(e){t.$set(t.formFilter,"myself",e)},expression:"formFilter.myself"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t.$t("m.Mine")))]),t._v(" "),s("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t.$t("m.All")))])])],1),t._v(" "),s("li",[s("Input",{attrs:{placeholder:t.$t("m.Search_Author")},on:{"on-enter":t.handleQueryChange},model:{value:t.formFilter.username,callback:function(e){t.$set(t.formFilter,"username",e)},expression:"formFilter.username"}})],1),t._v(" "),s("li",[s("Button",{attrs:{type:"info",icon:"md-refresh"},on:{click:t.getSubmissions}},[t._v(t._s(t.$t("m.Refresh")))])],1)])]),t._v(" "),s("Table",{attrs:{stripe:"","disabled-hover":!0,columns:t.columns,data:t.submissions,loading:t.loadingTable}}),t._v(" "),s("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.page},on:{"on-change":t.changeRoute,"update:current":function(e){t.page=e}}})],1)],1),t._v(" "),t.contestID?t._e():s("div",{attrs:{id:"right-column"}},[s("Panel",{staticStyle:{"padding-top":"0px","padding-bottom":"10px","min-height":"400px"},attrs:{shadow:""}},[s("div",{staticStyle:{"margin-left":"-10px","margin-bottom":"-10px"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("m.Ranklist_Title")))]),t._v(" "),s("ol",{staticStyle:{"margin-left":"40px","margin-bottom":"20px"}},t._l(t.dataRank,function(e){return s("li",{key:e.id,staticStyle:{"margin-top":"4px"}},[s("a",{style:"font-weight: 600;color: "+e.color,attrs:{href:"/user-home?username="+e.user.username,title:e.title+" "+e.user.username}},[t._v("\n          "+t._s(e.user.username)+"\n          ")]),t._v(" - "+t._s(e.accepted_number)+" bài\n        ")])}),0)])],1)])},staticRenderFns:[]};var _=s("VU/8")(g,d,!1,function(t){s("Upri")},"data-v-e3458d30",null);e.default=_.exports}});